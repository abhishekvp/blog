---
layout: post
title: Installing and Running Librat - A Monte Carlo Ray Tracing Library
date: '2017-01-12T11:33:00.000+05:30'
author: abhishekp
excerpt: Tutorial on Installing Librat - A Monte Carlo Ray Tracing Library
tags:
- Linux
- Tutorial
- Ubuntu
modified_time: '2017-03-02T12:01:48.195+05:30'
thumbnail: https://4.bp.blogspot.com/-SfGmH0IUUJc/WHcb3wuRzCI/AAAAAAAANMM/TUorC5zifCUcP3ImM5Fubetp26_YsjtTQCLcB/s72-c/cboxgi.jpg
blogger_id: tag:blogger.com,1999:blog-212891601918654493.post-1599489067132447366
blogger_orig_url: https://ageeksworldview.blogspot.com/2017/01/installing-and-running-librat-monte.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Librat is a free-ware Monte Carlo Ray Tracing Library developed at <a href="http://www.geog.ucl.ac.uk/">UCL Geography</a>, by <a href="http://www.geog.ucl.ac.uk/about-the-department/people/academic-staff/philip-lewis">Prof. P. Lewis</a> and <a href="http://www.geog.ucl.ac.uk/about-the-department/people/academic-staff/mat-disney">Dr. M. Disney</a>.  The official documentation on Librat can be found <a href="https://librat.wikispaces.com/">here</a>.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://4.bp.blogspot.com/-SfGmH0IUUJc/WHcb3wuRzCI/AAAAAAAANMM/TUorC5zifCUcP3ImM5Fubetp26_YsjtTQCLcB/s1600/cboxgi.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" height="480" src="https://4.bp.blogspot.com/-SfGmH0IUUJc/WHcb3wuRzCI/AAAAAAAANMM/TUorC5zifCUcP3ImM5Fubetp26_YsjtTQCLcB/s640/cboxgi.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Source: http://graphics.stanford.edu/~henrik/&nbsp;</td></tr></tbody></table><br />I had faced some difficulty, trying to get Librat up and running on my Ubuntu and so once I did, I decided to write a simplified set of instructions for others to follow. So here goes.<br /><br /><br /><b>Installation </b><br /><br /><div>Download the installation bash script from here: <a href="http://www2.geog.ucl.ac.uk/~plewis/bpms/src/lib/configure" target="_blank">http://www2.geog.ucl.ac.uk/~plewis/bpms/src/lib/configure </a><br /><br /></div><div>1. Make it executable: <br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> $ chmod +x configure.sh <br /></code></pre><center><br /></center>2. Run the script:  <br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> $ /.configure.sh<br /></code></pre>You should find the directory 'bpms' under /home/yourUsrNm/ after completion of the script.<br /><br />3. Download hipstats executable from <a href="http://www2.geog.ucl.ac.uk/~plewis/bpms/bin/x86_64/" target="_blank">http://www2.geog.ucl.ac.uk/~plewis/bpms/bin/x86_64/</a>. Paste it in the home/yourUsrNm/bpms/bin/yourSystemArch directory<br /><br />4. Set Path  <br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> sudo gedit .bashrc<br /></code></pre>Append the following lines to .bashrc<br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">export PATH=${PATH}:/home/yourUsrNm/bpms/bin/yourSystemArch<br />export PATH=${PATH}:/home/yourUsrNm/bpms/bin/csh<br />export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/home/usrnm/bpms/src/lib<br />export BPMS=/home/yourUsrNm/bpms<br />#{Replace yourUsrNm with your Username}<br />#{Replace yourSystemArch with your system architecture | Can be found b 'uname -my'}<br /></code></pre>Save, Close and Reload .bashrc. ~/.bashrc<br /><br /><b>Running</b><br /><br />1. Download and extract test examples say in a directory 'lidar' {preferably in the home directory} from here: <a href="http://www2.geog.ucl.ac.uk/~plewis/bpms/src/start/tests/lidar/lidar.tar.Z" target="_blank">http://www2.geog.ucl.ac.uk/~plewis/bpms/src/start/tests/lidar/lidar.tar.Z </a><br /><br />cd into the extracted directory <br /><br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">echo 16 0 0 100000 200000 200000 512 512 1 heightmap2.hips | ../bpms/src/start/start -v testslope.obj</code></pre><br />Explanation of the syntax can be found here:&nbsp;<a href="http://www2.geog.ucl.ac.uk/~plewis/bpms/src/start/tests/lidar/lidar1.html">http://www2.geog.ucl.ac.uk/~plewis/bpms/src/start/tests/lidar/lidar1.html</a><br /><br />It will generate the heightmap2.hips file.<br /><br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">hipstats &lt; heightmap2.hips</code></pre><br />This should give something on the lines of ' Frame 0 : n=262144 mean=549.504 SD=57666.326 Min=-99999.219 Max=99998.898' <br /><br />2. Lets now convert the .hips file into a viewable image <br /><br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">linear &lt; heightmap2.hips | hips2pbm &gt; image.pbm</code></pre><br />A file 'image.pbm' would be generated. You can view the file using<br /><br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">display image.pbm</code></pre><br />3. Convert the image into a .gif using<br /><br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">convert image.pbm image.gif</code></pre><br />You can now open the image.gif file to see the generated image. <br /><br />If you see an image as expected, everything has worked fine. Go ahead and start working with Librat! Have a great day! :D<br /><br /></div></div>
